---
const { blocks } = Astro.props;

// import all possible block components
import Hero from '../components/blocks/Hero.astro';
import Expertise from '../components/blocks/Expertise.astro';
import Offerings from '../components/blocks/Offerings.astro';
import ContentBlock from '../components/blocks/ContentBlock.astro';
import Team from '../components/blocks/Team.astro';
import ZohoContact from './blocks/ZohoContact.astro';
import Header from './blocks/Header.astro';
import Partners from './blocks/Partners.astro';

const blockComponents = {
  block_hero: Hero,
  block_expertise: Expertise,
  block_offerings: Offerings,
  block_html: ContentBlock,
  block_team: Team,
  block_zoho_contact_form: ZohoContact,
  block_header: Header,
  block_partners: Partners,
};
---

{blocks.map((block) => {
  const BlockComponent = blockComponents[block.collection];
  return BlockComponent ? <BlockComponent {...block.item} /> : null;
})}
